var width=(window.innerWidth>0)?window.innerWidth:screen.width,touchDevice=false;adjustHeight();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){touchDevice=true;
}if(touchDevice){var viewportmeta=document.querySelectorAll('meta[name="viewport"]')[0];if(viewportmeta){viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";
document.body.addEventListener("gesturestart",function(){viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6";},false);}$(".sliderButton").addClass("hidden");
$("#intro").css("background-size","105%");function doOnOrientationChange(){adjustHeight();switch(window.orientation){case -90:case 90:$("#intro").css("background-size","50%");
break;default:if(width<600){$("#intro").css("background-size","105%");}else{$("#intro").css("background-size","auto");}break;}}window.addEventListener("orientationchange",doOnOrientationChange);
window.addEventListener("load",function(){setTimeout(function(){window.scrollTo(0,1);},300);});}if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");
msViewportStyle.appendChild(document.createTextNode("#intro{background: url('./images/bg@2x.jpg') 50% 0 no-repeat}.noScroll #mainNav.expanded{background: rgba(0,0,0,.95)}.cover{width: 100%}}"));
document.getElementsByTagName("head")[0].appendChild(msViewportStyle);}var previousScroll=0,menuOffset=90,detachPoint=850,hideShowOffset=6;var s=$(this).scrollTop();
$(".bg-image").css("-webkit-transform","translate3d(0,"+(s/1.3)+"px, 0");$(window).scroll(function(){var b=$(this).scrollTop(),c=document.body.offsetHeight,d=window.innerHeight+window.scrollY,a=Math.abs(b-previousScroll);
s=$(this).scrollTop();if(d<=c){$(".bg-image").css("-webkit-transform","translate3d(0,"+(s/1.3)+"px, 0");}clearTimeout($.data(this,"scrollTimer"));$.data(this,"scrollTimer",setTimeout(function(){$("#fullWidthContainer, #fullWidthDemoContainer").addClass("notScrolling");
},120));if((b<=0)||(d>=c-200)){}else{if(a>=35){$("#fullWidthContainer, #fullWidthDemoContainer").removeClass("notScrolling");}}if(!$("#mainNav").hasClass("expanded")){if(b>menuOffset){if(b>detachPoint){if(!$("#mainNav").hasClass("detached")){$("#mainNav").addClass("detached");
}}if(a>=hideShowOffset){if(b>previousScroll){if(!$("#mainNav").hasClass("invisible")){$("#mainNav").addClass("invisible");}}else{if($("#mainNav").hasClass("invisible")){$("#mainNav").removeClass("invisible");
}}}}else{if(b<=0){$("#mainNav").removeClass();}}if((d)>=c){$("#mainNav").removeClass("invisible");}previousScroll=b;}});$("#mainNav").on("click touchstart",function(a){showHideNav();
a.preventDefault();});$("#navigation section, #navigation .heading, #navigation .subheading, #navigation .menu_label").on("click touchstart",function(a){a.stopPropagation();
});function showHideNav(){if($("#mainNav").hasClass("expanded")){hideNav();}else{showNav();}}var windows=false;if(navigator.appVersion.indexOf("Win")!=-1){windows=true;
}function showNav(){$("#mainNav").removeClass("invisible").addClass("expanded");window.setTimeout(function(){$("#container").addClass("blurred");},40);
$("#navigation a").attr("tabindex","");$("#fullWidthContainer").removeClass("notScrolling");if(windows){$("body").width($("body").width());$("body").css("overflow","hidden");
}else{window.setTimeout(function(){$("body").addClass("noScroll");},200);}}function hideNav(){$("#container").removeClass("blurred");$("#mainNav").addClass("transition");
window.setTimeout(function(){$("body").removeClass("noScroll").removeAttr("style");},50);window.setTimeout(function(){$("#mainNav").removeClass("transition").removeClass("expanded");
},200);$(".menuIcon").blur();$("#fullWidthContainer").addClass("notScrolling");}$(".siteLinks a").on("click touchstart",function(){$(this).addClass("spinnerSmall");
});var adjustedScreenBefore=false;function adjustHeight(){if(adjustedScreenBefore){}else{var b=(window.innerWidth>0)?window.innerWidth:screen.width,a=(window.innerHeight>0)?window.innerHeight:screen.height;
if(b<768){padding=a/1.9;a=a+30;}else{if(b>767&&b<1024){padding=a/2.2;}else{if(b>1024&&b<1450){padding=a/2.85;}else{if(b>1450&&b<1920){padding=a/2.4;}else{padding=a/2.2;
}}}}$("#intro, #post section").css("height",a);$("#intro div, #post .cover").css("padding-top",padding);$(".bg-image").css("top",padding-430);if(a>670&&a<750){$("#navigation").addClass("reduceNavHeight").removeClass("reduceMoreNavHeight");
}else{if(a>620&&a<670){$("#navigation").addClass("reduceMoreNavHeight").removeClass("smallestNavHeight");}else{if(a<620){$("#navigation").addClass("smallestNavHeight");
}else{$("#navigation").removeClass();}}}adjustedScreenBefore=true;}}$(window).resize(function(){adjustedScreenBefore=false;adjustHeight();});var container,scrolling=false;
$("#fullWidthContainer section").on("click touchend",function(a){container=$(this);if(a.metaKey||a.ctrlKey||a.shiftKey){}else{openBlogSection();}});$("#fullWidthContainer section").on("touchmove",function(a){scrolling=true;
});$("#fullWidthContainer section").on("touchend",function(a){scrolling=false;});function openBlogSection(){if(scrolling!=true){var a=container.offset().top-$(window).scrollTop();
container.addClass("magnify");$("#fullWidthContainer").addClass("clickedBlogLink");$("body").addClass("noScroll");$(".magnify").css("transform","translateY(-"+a+"px)");
window.setTimeout(function(){$(".spinner").removeClass("hidden");},500);}}$(document).on("page:restore",function(){var a=window.location.pathname;if((a==="/blog.html")||(a==="/blog/")||(a=="/blog")){$(".magnify").removeAttr("style");
$(".spinner").addClass("hidden");$("body").removeClass("noScroll");$("#fullWidthContainer").removeClass("clickedBlogLink");container.removeClass("magnify");
}$(".animateOnFirstLoad").removeClass("animateOnFirstLoad");});$("#slider img").bind("contextmenu",function(a){return false;});$(".next").click(function(){$(".swipe-wrap div").removeClass("slideVisible");
$(".swipe-wrap div").eq(mySwipe.getPos()).addClass("slideVisible");$(".slideVisible").next().addClass("preload");preloadImage();});$(".previous").click(function(){$(".swipe-wrap div").removeClass("slideVisible");
$(".swipe-wrap div").eq(mySwipe.getPos()).addClass("slideVisible");$(".slideVisible").prev().addClass("preload");preloadImage();});function preloadImage(){var a=$(".preload img");
a.attr("src",a.attr("data-src"));a.removeAttr("data-src");a.parent().removeClass("preload");}$(".twitter_button").hover(function(){$(this).addClass("pulse");
},function(){$(this).removeClass("pulse");});$("#readMore").hover(function(){$(this).find("link").attr("rel","prerender");});$("body").keydown(function(a){if($("#mainNav .menuIcon").is(":focus")){if(a.keyCode===13||a.keyCode===32){showHideNav();
a.preventDefault();}}if(a.metaKey||a.ctrlKey||a.shiftKey){}else{if(a.keyCode===27||a.keyCode===77){showHideNav();a.preventDefault();}if(a.keyCode===37){if(typeof mySwipe!="undefined"){if(!$("body").hasClass("noScroll")){$(".previous").trigger("click");
}}}if(a.keyCode===39){if(typeof mySwipe!="undefined"){if(!$("body").hasClass("noScroll")){$(".next").trigger("click");}}}if(a.keyCode===72){window.location=$(".home").attr("href");
}if(a.keyCode===87){window.location=$(".work").attr("href");}if(a.keyCode===66){window.location=$(".blog").attr("href");}if(a.keyCode===80){window.location=$(".photos").attr("href");
}if(a.keyCode===76){window.location=$(".lab").attr("href");}if(a.keyCode===69){window.location=$(".email").attr("href");}if(a.keyCode===83){window.location=$(".skype").attr("href");
}}});